<p>
<img src="https://i.imgur.com/J8Njimw.jpg" alt="Merger Render Poster">
</p>

<a href="https://demo.qrcdn.com/merger.html"><h1 style="text-align:center">Merger.html</h1></a>

<p>
<a href="https://github.com/hifocus/merger/releases"><img alt="Version" src="https://img.shields.io/github/release/hifocus/merger/all.svg?style=flat-square"/></a>
<a href="https://github.com/hifocus/merger/graphs/contributors"><img alt="Contributors" src="https://img.shields.io/github/contributors/hifocus/merger.svg?style=flat-square"/></a>
<a href="https://github.com/hifocus/merger/stargazers"><img alt="Stargazers" src="https://img.shields.io/github/stars/hifocus/merger.svg?style=flat-square"/></a>
<a href="https://github.com/hifocus/merger/blob/master/LICENSE"><img alt="License" src="https://img.shields.io/github/license/hifocus/merger.svg?style=flat-square"/></a>
<a href="https://github.com/hifocus/merger/releases"><img alt="jsDelivr" src="https://img.shields.io/github/downloads/hifocus/merger/total.svg?style=flat-square"/></a>
<a href="https://www.jsdelivr.com/package/gh/hifocus/merger"><img alt="jsDelivr" src="https://data.jsdelivr.com/v1/package/gh/hifocus/merger/badge"/></a>
</p>

> 更快地合并你的二维码

> 演示站点：[https://demo.qrcdn.com](https://demo.qrcdn.com)

> 这个文档直接翻译于英文版本，部分内容可能不准确。

## 为什么
 在中国，我们使用最少三个不同的应用去支付，他们都使用不同的二维码。这是一个问题，因为当你很忙的时候你可能把事情搞砸。为什么不把他们合并成一个呢？加上奇妙的样式以后，所有人都会喜欢它的！还有...变得更加国际化一点？

 ## 屏幕截图
<img src="https://i.imgur.com/cpJFFG6.jpg" alt="Merger Style">

 ## 定义.
 `Merger` 是一个允许你合并多个支付二维码的 HTML 模板。

 [hifocus/merger](https://github.com/hifocus/merger) 作为 [HXCO](https://hxco.org) 的一部分合作项目，是一个基于 [GNU General Public License v3.0
](https://www.gnu.org/licenses/gpl-3.0.en.html) 发布的开源项目。

 ## 特性
- 速度快。所有静态文件都被使用 jsDelivr，一个全球加速的内容分发网络。
- 高度可自定义化。你可以修改在页面上显示的一切，不需要特别的编程技巧。
- 直观的配置。你可能想要创造你自己的版本，而我们为你提供了便利。你所需要做的只是填入你所想要的内容，然后我们的代码会支持你和做完剩下的工作。
- “变形” 样式。你的用户可能用几种不同的方式打开你的网站。`Merger` 为你考虑了一切，它会用不同的方式展现自己以确保达到用户的需要。

## 下载

- 请使用这个项目的 `release` 功能，它位于 [https://github.com/hifocus/merger/releases](https://github.com/hifocus/merger/releases)。在开发环境中，请仅仅使用 `Merger` 的最新、非预先发布（pre-release）版本。

- 如果你不知道怎么去编辑 `.html` 文件以得到你自己的合并二维码，我们建议你去使用 [Visual Studio Code](https://code.visualstudio.com/)，一个开源的代码编辑器。
从 HXCO Get: [https://get.soft.org/vscode](https://get.soft.org) 直接下载它。

## 提示

### 错误提示
在这个项目的开发过程中，错误可能会出现并且影响你的站点。这里有两条建议：
1. 确保你的 `Merger` 版本为稳定。要做到这点，下载最新的更新（非预先更新 pre-release）。`Merger` 的稳定版本通常包含最新的安全更新和错误修复。一直使用它们以确保没有任何问题。
2. 经常地查看，或者订阅我们的 [Bugs Notice Board](https://github.com/hifocus/merger/issues/2) （错误通知栏）。所有的已知错误会出现在哪里以及他们的状态也会被更新。

### 对中国的备案提示
在一些中国的应用里，特别是微信，内置浏览器回味那些没有 ICP 备案记录的网站像是一个安全提醒页面。非常明显，这对用户不友好以及他们可能会怀疑你站点的安全性。这里有两个解决方案：
1. 使用 **备案域名**，像我们的演示站点一样：[https://demo.qrcdn.com](https://demo.qrcdn.com)
2. 使用 **GitHub Pages 子域名**。由于某种原因 GitHub 的域名在没有 ICP 备案记录的情况下在 QQ 和微信中被标记为绿色。所以使用 GitHub Pages 去搭建你自己的 `Merger` 但是不要使用自定义域名，使用默认的 `username.github.io` 子域名。请尝试这一个 [https://hifocus.github.io/Merger_Demo/merger.html](https://hifocus.github.io/Merger_Demo/merger.html) 看看它在微信中是如何运作的。。

## 如何配置
配置工作十分简单。我们做到了！

### 头部部分
你首先需要配置 `merger.html` 的 `head` 标签。

```
     <title>Merger Demo - merge your qrcode quicker</title>
```
`title` 标签会决定在浏览器的标签页上显示什么，编辑它，像什么 <del>“给惶心打钱”</del> “向惶心支付” 可以让用户更明白。

```
     <meta name="Keywords" content="Merger,open source,hxco,hifocus,merge qrcode,qrcode" />
     <meta name="Description" content="Merger is the most simple way to merge your qrcode together." />     
```
在头部里有 带有 SEO 信息的 `meta` 标签。删掉他们如果你不想搜索引擎在他们的搜索结果里面列出你的站点。

```
     <link rel="shortcut icon" type="image/x-icon" href="https://ws1.sinaimg.cn/large/0072Lfvtly1fyegd14voyj30dw0dwt9x.jpg">
```
这里是图标部分。替换图片链接成你自己的。不确定哪里去托管你的图标？试试 [SM.MS](https://sm.ms)。

欢迎你编辑 `<head>` 标签里的其他部分如果你知道要干什么的话，除了 `<meta name="author" content="Huangxin, LF112" />` 这点。你只能移除他们如果你真的不想他们出现，同时版权保留是被需求的。

### 主要配置部分
就在 `<body>` 标签的下方（在 `</head>` 下方），就是 `Config part`。在这里配置一切所需，没别的地方了。

`Config part` 里面有详细的代码注释（全英文，看不懂需要自己查词典）。基本上，一切都是在这个格式以内的：

```
var 一个东西 = "实际的东西";
```

请对等号 `=` 后面的部分非常小心。不要忘记了用双引号 `“”` 把你自己的信息（比如微信支付的链接）引用起来，以及在最后加一个分号 `；`。

你会需要填入你的支付链接，从微信支付，支付宝，QQ钱包（在 QQ 手机版里面）和贝宝（Paypal）。对于微信支付，支付宝和QQ钱包，你可以解码你的支付二维码以得到真实链接。对于 Paypal，简单地创建你自己的 [paypal.me](https://paypal.me) 链接即可。

然后你填入你的首选名字和一条头像链接（最少 200x200 像素）。其他变量的指南请你按照代码注释去编辑。

## 如何部署
`Merger` 是一个 HTML 模板所以任何可以跑静态网站的地方就行。如果你没有自己的 `虚拟主机` 或者 `虚拟服务器`，用 [GitHub Pages](https://pages.github.com) 这样的服务。简单地上传相关的一切到你的服务然后通过你的域名提供服务即可。如果你没有域名，从 [Freenom](https://freenom.com) 获取一个免费的，或者买一个。 

## 原理

这里就不翻译了。想要了解的都看得懂吧……

`Merger` detacts user's `UserAgent` and sort them into different categories. Every sinle category will have different presentation of the site.

If the user opens the site from desktop end (like a PC browser), he will get the desktop view of the site. In this case, he gets to choose a way to pay you. For wechat pay, alipay and tenpay, he will get the direct qrcode instantly (which are generated by JQuery qrcode plugin). He scans it, you can paid. Simple.

If the user opens the site from mobile end, and in a mobile browser (like Chrome for Android), he will still get the option to choose payment method and pay you. The style will be adjusted slightly.

If the users open the site from mobile end, and in those specifc app (wechat pay, alipay, etc.) he will be shown with the direct qrcode. He will need to keep pressing the qrcode until the menu pops out and show the option to `Identify the qrcode`. Then you get paid.

For Mobile QQ only, the internal browser does not support the identify of qrcode that is in `data:image` type (default type), so `Merger` will import the qrcode from the qrcode API, which is configurable in the `Config Part`.

For Alipay only, user will be redirect to the payment link directly. No need for second-time scaning.

## 贡献
任何形式的共享都是非常受欢迎的。

请 `star` 这个项目，如果你喜欢它，或者使用它，再或者觉得它对你有任何形式的帮助。

请考虑捐赠我，通过 https://demo.qrcdn.com；我确实需要很长时间来开发这个项目。

## 感谢

这个项目用了几个开源项目。谢谢他们。
- [Spectre.css](https://picturepan2.github.io/spectre/). 强力驱动 `Merger` 的样式。
- [JQuery](https://jquery.com). 强力驱动 `Merger`的 `js` 代码以及二维码的生成。
- [lrsjng/jquery-qrcode](https://github.com/lrsjng/jquery-qrcode). 为 `Merger` 生成二维码。
- [jsDelivr](https://jsdelivr.com). 合并 `Merger` 的静态文件以减少请求数，用它的内容分发网络服务 `cdn.jsdelivr.net` 以加速加载速度。
- [hifocus/Grouper](https://jsdelivr.com). 提供好的 HTML 框架以借鉴。

这个项目也用了 [iconfont](http://iconfont.cn) 的服务以在按钮里面显示不同的图标，用它的内容分发网络服务 `at.alicdn.com` 以加速加载速度。

也谢谢 [@Lf112](https://github.com/lf112)。他写了几个重要功能的 `JavaScript` 代码。浏览他的博客：[https://blog.lf112.net](https://blog.lf112.net) 以支持他。

## 要求
请务必保留版权信息。

如果你决定以任何形式使用 `Merger`，
**你可以去除**
- 声明作者的 meta 标签
- 控制台里面的版权信息（通过禁用 `debugmode`）

**你不能去除**
- 所有在 `.js`, `.css` 里面的版权信息。
- `merger.html` 在代码注释里面的版权信息（除非你保留控制台里面的版权信息，通过启用默认的 `debugmode`）。

如果你违反我们的版权保留要求，你的名字可能会出现在我们当前为空白的 耻辱墙 上。

请留意，`Merger` 是通过 **GNU General Public License v3.0** 开源并且发布的，你**不被允许**闭源，你在做更改的时候也被限制只能使用同样的许可证。有关我们的许可证的权限，限制和条件的更多信息，请参阅 [https://github.com/hifocus/merger/blob/master/LICENSE](https://github.com/hifocus/merger/blob/master/LICENSE) 更详细地了解。

作者: [@hifocus](https://github.com/hifocus)
